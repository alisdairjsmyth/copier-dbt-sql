# Copier configuration
_subdirectory: template
_envops:
  block_end_string: "%]"
  block_start_string: "[%"
  comment_end_string: "#]"
  comment_start_string: "[#"
  keep_trailing_newline: true
  variable_end_string: "]]"
  variable_start_string: "[["

# Initial message displayed to user before copying files.
_message_before_copy: |
  Copier template for creating a dbt project configured for Databricks.

# Prompted variables for the template.
project_name:
  type: str
  help: Please provide a unique name for this project.
  default: dbt_project
  validator: >-
    [% if not (project_name | regex_search('^[A-Za-z_][A-Za-z0-9-_]+$')) %]
    Name must consist of letters, numbers, dashes, and underscores.
    [% endif %]

data_product_schema:
  type: str
  help: Please provide the name of the schema for the data product.
  default: default
  validator: >-
    [% if not (data_product_schema | regex_search('^\\w+$')) %]
    Invalid schema name.
    [% endif %]

serverless_budget_policy_id:
  type: str
  help: Please provide the Databricks serverless budget policy ID to use.
  default: ae19fb6f-e314-455e-aa05-051101bd1bd1
  validator: >-
    [% if not (serverless_budget_policy_id | regex_search('^[0-9a-fA-F-]{36}$')) %]
    Invalid UUID format for budget policy ID.
    [% endif %]

with_dbt_utils:
  type: bool
  help: Include dbt-labs/dbt_utils package in the project?
  default: true

with_dbt_artifacts:
  type: bool
  help: Include brooklyn-data/dbt_artifacts package in the project?
  default: true

with_dbt_expectations:
  type: bool
  help: Include metaplane/dbt_expectations package in the project?
  default: false

with_automate_dv:
  type: bool
  help: Include datavault-uk/automate_dv package in the project?
  default: false

# Message displayed to user after copying files.
_message_after_copy: |
  Your new project has been created in the '[[ project_name_kebab_case ]]' directory!

  Refer to the README.md file for full "getting started" guide and production setup instructions.

# Static and generated variables used in the template files.
databricks_cli_dependency:
  when: false
  type: str
  help: "databricks cli dependency definition."
  default: "0.283.0"

databricks_serverless_environment_version:
  when: false
  type: str
  help: "Databricks serverless environment version."
  default: "4"

dbt_artifacts_schema:
  when: false
  type: str
  help: "Schema name for dbt_artifacts."
  default: "dbt_artifacts"

dbt_databricks_dependency:
  when: false
  type: str
  help: "dbt-databricks dependency definition."
  default: "dbt-databricks>=1.11.0,<1.12.0"

dev_catalog:
  when: false
  type: str
  help: "Name of the development catalog - common"
  default: dev_dbt

dev_databricks_host:
  when: false
  type: str
  help: Please provide the Databricks workspace host for development deployments.
  default: https://dbc-97f40495-e782.cloud.databricks.com/

gha__actions__checkout:
  when: false
  type: str
  help: "Version of actions/checkout action to use in GitHub Actions workflows."
  default: "actions/checkout@v6"

gha__actions__github_script:
  when: false
  type: str
  help: "Version of actions/github-script action to use in GitHub Actions workflows."
  default: "actions/github-script@v8"

gha__actions__setup_python:
  when: false
  type: str
  help: "Version of actions/setup-python action to use in GitHub Actions workflows."
  default: "actions/setup-python@v6"

gha__actions_ecosystem__action_add_labels:
  when: false
  type: str
  help: "Version of actions-ecosystem/action-add-labels to use in GitHub Actions workflows."
  default: "actions-ecosystem/action-add-labels@v1"

gha__actions_ecosystem__action_remove_labels:
  when: false
  type: str
  help: "Version of actions-ecosystem/action-remove-labels to use in GitHub Actions workflows."
  default: "actions-ecosystem/action-remove-labels@v1"

gha__astral_sh__setup_uv:
  when: false
  type: str
  help: "Version of astral-sh/setup-uv action to use in GitHub Actions workflows."
  default: "astral-sh/setup-uv@v7"

gha__devops_infra__action_commit_push:
  when: false
  type: str
  help: "Version of devops-infra/action-commit-push to use in GitHub Actions workflows."
  default: "devops-infra/action-commit-push@v1.0.3"

gha__googleapis__release_please_action:
  when: false
  type: str
  help: "Version of googleapis/release-please-action to use in GitHub Actions workflows."
  default: "googleapis/release-please-action@v4"

gha__peter_evans__create_pull_request:
  when: false
  type: str
  help: "Version of peter-evans/create-pull-request action to use in GitHub Actions workflows."
  default: "peter-evans/create-pull-request@v8"

gha__tj_actions__changed_files:
  when: false
  type: str
  help: "Version of tj-actions/changed-files action to use in GitHub Actions workflows."
  default: "tj-actions/changed-files@v46"

gha__yuzutech__annotations_action:
  when: false
  type: str
  help: "Version of yuzutech/annotations-action to use in GitHub Actions workflows."
  default: "yuzutech/annotations-action@v0.5.0"

prd_catalog:
  when: false
  type: str
  help: "Name of the production catalog - common"
  default: prd_dbt

project_name_kebab_case:
  when: false
  type: str
  help: "Project name in kebab-case."
  default: >-
    [% from 'kebab-case.jinja' import to_kebab_case %][[ to_kebab_case(project_name) ]]
